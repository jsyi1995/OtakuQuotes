dist: trusty
sudo: enabled
language: node_js
node_js:
  - "node"
cache:
  directories:
    - "node_modules"
services:
  - redis-server
before-install:
  - chmod +x redis_database.sh
  - ./redis_database.sh
install:
  - npm i && cd client && npm i && cd ..
  - cd client && npm run build && cd ..
  - python3.5 -m pip install requests
script: 
  - npm start &
  - sleep 2
  - python3.5 test/test_pending.py
  - python3.5 test/test_quotes.py
  - python3.5 test/test_random.py
  
after-script:
  - killall node
